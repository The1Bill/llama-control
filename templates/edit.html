<!DOCTYPE html>
<html>
<head>
    <title>Edit Config</title>
    <style>
        :root {
            --bg-color: #1e1e1e;
            --text-color: #f0f0f0;
            --panel-bg: #2a2a2a;
            --border-color: #444;
            --input-bg: #333;
            --button-bg: #007acc;
            --button-bg-hover: #005f99;
        }

        body.light {
            --bg-color: #f9f9f9;
            --text-color: #222;
            --panel-bg: #fff;
            --border-color: #ccc;
            --input-bg: #fff;
            --button-bg: #007acc;
            --button-bg-hover: #005f99;
        }

        body {
            font-family: sans-serif;
            margin: 2em;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.3s, color 0.3s;
        }

        .toggle-container {
            position: fixed;
            top: 1em;
            right: 1em;
        }

        .model-block {
            border: 1px solid var(--border-color);
            padding: 1em;
            margin-bottom: 1em;
            background-color: var(--panel-bg);
            border-radius: 8px;
            transition: background-color 0.3s, border-color 0.3s;
        }

        label {
            display: inline-block;
            width: 140px;
            color: var(--text-color);
        }

        input[type=text],
        input[type=number] {
            width: 300px;
            background-color: var(--input-bg);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            padding: 4px;
            border-radius: 4px;
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }

        input[type=checkbox] {
            transform: scale(1.2);
            margin-left: 4px;
        }

        button {
            padding: 0.5em 1.2em;
            border: none;
            border-radius: 6px;
            background-color: var(--button-bg);
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: var(--button-bg-hover);
        }
    </style>
</head>
<body>
    <div class="toggle-container">
        <button type="button" onclick="toggleMode()">üåô/‚òÄÔ∏è</button>
    </div>

    <h1>Edit Config</h1>
    <form action="/save" method="post">
        {% for model in config.models %}
        <div class="model-block">
            <h2>Model {{ loop.index }}</h2>
            <p><label>Name:</label>
               <input type="text" name="name_{{ loop.index0 }}" value="{{ model.name }}"></p>
            <p><label>Path:</label>
               <input type="text" name="path_{{ loop.index0 }}" value="{{ model.path }}"></p>
            <p><label>GPU Layers:</label>
               <input type="number" name="gpu_layers_{{ loop.index0 }}" value="{{ model.gpu_layers }}"></p>
            <p><label>Context Size:</label>
               <input type="number" name="context_size_{{ loop.index0 }}" value="{{ model.context_size }}"></p>
            <p><label>Batch Size:</label>
               <input type="number" name="batch_size_{{ loop.index0 }}" value="{{ model.batch_size }}"></p>
            <p><label>Flash Attention:</label>
               <input type="checkbox" name="flash_attention_{{ loop.index0 }}" {% if model.flash_attention %}checked{% endif %}></p>
        </div>
        {% endfor %}
        <button type="submit">Save</button>
    </form>

    <script>
        function toggleMode() {
            document.body.classList.toggle("light");
        }
    </script>
</body>
</html>
